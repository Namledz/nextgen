<div class="card card-custom gutter-b">
	<div class="card-header">
		<div class="card-toolbar" style="width: 100%; margin-top: 25px; margin-bottom: 20px;">
			<div class="d-inline-block" style="width: 100%">
				<div style="float: right;">
					<button id="dropdownMenu" #btnShowCol (click)="isListShowing = !isListShowing"
						class="btn btn-sm btn-outline-primary">Show/Hide
						Columns
						<i *ngIf="!isListShowing" class="ki ki-bold-triangle-bottom"></i>
						<i *ngIf="isListShowing" class="ki ki-bold-triangle-top"></i>
					</button>
					
					<mat-selection-list class="show-hide-column-list" #listColumn [hidden]="!isListShowing">
						<mat-list-option checkboxPosition="before" class="mat-primary show-hide-column-opt"
							*ngFor="let column of columnsName" (click)="onColumnListControlChanged(listColumn)"
							[selected]="column.isSelected" [value]="column.columnVal">
							{{ column.name }}
						</mat-list-option>
					</mat-selection-list>
					
				</div>
				<div>
					<!-- <p>
				Options selected: {{shoes.selectedOptions.selected.length}}
			</p> -->
				</div>

			</div>
		</div>
	</div>
	<div class="card-body">
		<!-- begin: Grouping -->
		<ng-container *ngIf="grouping.getSelectedRowsCount()">
			<div class="form">
				<div class="row align-items-center form-group-actions margin-top-20 margin-bottom-20">
					<div class="col-xl-12">
						<div class="form-group form-group-inline">
							<div class="form-label form-label-no-wrap">
								<label class="font-bold font-danger"><span>Selected records count:
										<b>{{ grouping.getSelectedRowsCount() }}</b></span></label>
							</div>
							<div>
								<button type="button" class="btn btn-danger font-weight-bolder font-size-sm mr-1"
									(click)="deleteSelected()">
									<i class="fa fa-trash"></i> Delete All
								</button>&nbsp;
								<button type="button" class="btn btn-light-primary font-weight-bolder font-size-sm mr-1"
									(click)="fetchSelected()">
									<i class="fa fa-stream"></i> Fetch Selected
								</button>&nbsp;
								<button type="button" class="btn btn-light-primary font-weight-bolder font-size-sm mr-1"
									(click)="updateStatusForSelected()">
									<i class="fa fa-sync-alt"></i> Update Status
								</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</ng-container>
		<!-- end: Grouping -->

		<!-- begin:Table -->
		<div class="table-responsive angular-bootstrap-table" style="width: 100%">
			<div>
				<table style="table-layout: fixed; overflow-x: auto !important; width: fit-content"
					class="table table-head-custom table-vertical-center overflow-hidden variant-list-table">
					<!-- <colgroup>
						<col span="1" style="width: 70px">
						<col span="1" style="width: 100px !important">
						<col span="1" style="width: 100px !important">
						<col span="1" style="width: 150px">
						<col span="1" style="width: 100px">
						<col span="1" style="width: 100px">
						<col span="1" style="width: 100px">
						<col span="1" style="width: 100px">
						<col span="1" style="width: 100px">
						<col span="1" style="width: 100px">
						<col span="1" style="width: 100px">
						<col span="1" style="width: 100px">
						<col span="1" style="width: 100px">
						<col span="1" style="width: 100px">
						<col span="1" style="width: 100px">
						<col span="1" style="width: 150px">
					</colgroup> -->
					<thead>
						<th class="selection-cell-header" style="width:50px" data-row-selection="true">
							<label class="checkbox checkbox-single"><input type="checkbox"
									(click)="grouping.selectAllRows()"
									[checked]="grouping.checkAreAllRowsSelected()" /><span></span></label>
						</th>
						<!-- <th>
							ID
							<app-sort-icon column="id" [activeColumn]="sorting.column" [activeDirection]="sorting.direction"
								(sort)="sort($event)"></app-sort-icon>
						</th> -->
						<th class="width-100">
							Gene
							<app-sort-icon column="gene" [activeColumn]="sorting.column"
								[activeDirection]="sorting.direction" (sort)="sort($event)"></app-sort-icon>
						</th>
						<th class="width-150">
							Transcript
							<app-sort-icon column="lastName" [activeColumn]="sorting.column"
								[activeDirection]="sorting.direction" (sort)="sort($event)"></app-sort-icon>
						</th>
						<th class="width-150">
							cDNA
							<app-sort-icon column="type" [activeColumn]="sorting.column"
								[activeDirection]="sorting.direction" (sort)="sort($event)"></app-sort-icon>
						</th>
						<th class="width-150" [class.hidden-column]="checkColumnIsSelected('pnomen')">
							p.nomen
							<app-sort-icon column="type" [activeColumn]="sorting.column"
								[activeDirection]="sorting.direction" (sort)="sort($event)"></app-sort-icon>
						</th>
						<th class="width-150">
							Coverage
							<app-sort-icon column="type" [activeColumn]="sorting.column"
								[activeDirection]="sorting.direction" (sort)="sort($event)"></app-sort-icon>
						</th>
						<th class="width-150">
							Function
							<app-sort-icon column="type" [activeColumn]="sorting.column"
								[activeDirection]="sorting.direction" (sort)="sort($event)"></app-sort-icon>
						</th>
						<th class="width-150">
							Location
							<app-sort-icon column="type" [activeColumn]="sorting.column"
								[activeDirection]="sorting.direction" (sort)="sort($event)"></app-sort-icon>
						</th>
						<th class="width-120">
							Clinvar
							<app-sort-icon column="type" [activeColumn]="sorting.column"
								[activeDirection]="sorting.direction" (sort)="sort($event)"></app-sort-icon>
						</th>
						<th class="width-150">
							GNomad_ALL
							<app-sort-icon column="type" [activeColumn]="sorting.column"
								[activeDirection]="sorting.direction" (sort)="sort($event)"></app-sort-icon>
						</th>
						<th class="width-150" [class.hidden-column]="checkColumnIsSelected('gnomad_AMR')">
							GNomad_AMR
							<app-sort-icon column="type" [activeColumn]="sorting.column"
								[activeDirection]="sorting.direction" (sort)="sort($event)"></app-sort-icon>
						</th>
						<th class="width-150" [class.hidden-column]="checkColumnIsSelected('gnomad_AFR')">
							GNomad_AFR
							<app-sort-icon column="type" [activeColumn]="sorting.column"
								[activeDirection]="sorting.direction" (sort)="sort($event)"></app-sort-icon>
						</th>
						<th class="width-150" [class.hidden-column]="checkColumnIsSelected('classification')">
							Classification
							<app-sort-icon column="type" [activeColumn]="sorting.column"
								[activeDirection]="sorting.direction" (sort)="sort($event)"></app-sort-icon>
						</th>
						<th class="width-120" [class.hidden-column]="checkColumnIsSelected('rsid')" >
							rsid
							<app-sort-icon column="gender" [activeColumn]="sorting.column"
								[activeDirection]="sorting.direction" (sort)="sort($event)"></app-sort-icon>
						</th>
						<th class="width-150" [class.hidden-column]="checkColumnIsSelected('REF-ALT')">
							REF - ALT
							<app-sort-icon column="type" [activeColumn]="sorting.column"
								[activeDirection]="sorting.direction" (sort)="sort($event)"></app-sort-icon>
						</th>
						<th class="width-120" [class.hidden-column]="checkColumnIsSelected('cosmicID')">
							Cosmic
							<app-sort-icon column="type" [activeColumn]="sorting.column"
								[activeDirection]="sorting.direction" (sort)="sort($event)"></app-sort-icon>
						</th>
						<th class="width-150" [class.hidden-column]="checkColumnIsSelected('position')">
							Position
							<app-sort-icon column="email" [activeColumn]="sorting.column"
								[activeDirection]="sorting.direction" (sort)="sort($event)"></app-sort-icon>
						</th>
						<!-- <th style="width-100">
								Zygosity
							<app-sort-icon column="type" [activeColumn]="sorting.column"
								[activeDirection]="sorting.direction" (sort)="sort($event)"></app-sort-icon>
							</th> -->
					</thead>
					<tbody>
						<tr *ngFor="let variant of variantListService.items$ | async">
							<td class="selection-cell">
								<label class="checkbox checkbox-single"><input type="checkbox"
										(click)="grouping.selectRow(variant.id)"
										[checked]="grouping.isRowSelected(variant.id)" />
									<span></span>
								</label>
							</td>
							<!-- <td>{{ variant.id }}</td> -->
							<td>
								<span>{{ variant.gene }}</span></td>
							<td>
								<span>{{ variant.transcript_id }}</span>
							</td>
							<td>
								<span>{{ variant.cnomen }}</span></td>
							<td [class.hidden-column]="checkColumnIsSelected('pnomen')">
								<span>{{ variant.pnomen }}</span></td>
							<td>
								<span>{{ variant.coverage }}</span></td>
							<td>
								<span>{{ variant.function }}</span></td>
							<td>
								<span>{{ variant.location }}</span></td>
							<td>
								<span>{{ variant.clinvar }}</span></td>
							<td>
								<span>{{ variant.gnomad_ALL }}</span></td>
							<td  [class.hidden-column]="checkColumnIsSelected('gnomad_AMR')">
								<span>{{ variant.gnomad_AMR }}</span></td>
							<td [class.hidden-column]="checkColumnIsSelected('gnomad_AFR')">
								<span>{{ variant.gnomad_AFR }}</span></td>
							<td [class.hidden-column]="checkColumnIsSelected('classification')">
								<span>{{ variant.classification }}</span></td>
							<td [class.hidden-column]="checkColumnIsSelected('rsid')">
								<span>{{ variant.rsid }}</span></td>
							<td [class.hidden-column]="checkColumnIsSelected('REF-ALT')">
								<span>{{ variant.REF }} > {{variant.ALT}}</span></td>
							<td [class.hidden-column]="checkColumnIsSelected('cosmicID')">
								<span>{{ variant.cosmicID }}</span></td>
							<td  [class.hidden-column]="checkColumnIsSelected('position')">
								<span>{{ variant.chrom }}:{{ variant.position }}</span></td>
							<!-- <td><span>{{ variant.zygosity }}</span></td> -->

						</tr>
					</tbody>
				</table>
			</div>
		</div>
		<!-- end: Table -->
		<app-paginator class="d-flex justify-content-between align-items-center flex-wrap" [paginator]="paginator"
			[isLoading]="isLoading" (paginate)="paginate($event)"></app-paginator>
	</div>
</div>